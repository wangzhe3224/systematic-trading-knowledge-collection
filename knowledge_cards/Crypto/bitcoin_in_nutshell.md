---
title: 5分钟理解比特币技术
tags: Bitcoin
categories: Crypto
date: 2022-03-26
---

- [基础概念](#基础概念)
- [交易记录，Transactions，Ts](#交易记录transactionsts)
- [比特币网络的参与节点](#比特币网络的参与节点)
- [共识形成](#共识形成)
- [参考](#参考)

## 基础概念

四个基础概念：私钥(`k`)、公钥(`K`)、地址(`A`)、签名(`Sig`)。

私钥，`k`，是一个 256 位的随机数，这是我们“花”比特币必须要有的秘钥，而且无论是谁得到这个秘钥，都可以支配我们的比特币。
公钥，`K`，是由私钥计算得到的，注意，**公钥不是我们的比特币地址**。具体算法用到了一种叫椭圆曲线乘法的运算，我们不展开说。
我们只需要知道，从私钥到公钥计算非常快，而**从公钥到私钥几乎是不可能的**。
地址，`A`，是一个有公钥推导出来的 160 位的数字。

然后我们要需要知道签名（Signatur，`Sig`）的概念，所谓签名，就是将私钥和一串信息输入一个函数，生成一串数字的过程。
这串数字（信息）就叫做被签名的信息。
给出签名信息，所有人都可以轻松地通过公钥（由私钥生成的）和签名信息验证签名信息确实是由生成该公钥的私钥签名的。
在不知道私钥的前提下，想要**伪造一个可以通过验证的签名信息几乎是不可能的**。

上面我们提到了两个*不可能*，就是非对称加密技术，也是比特币的数学基础。

## 交易记录，Transactions，Ts

一笔交易，`Ts`，也是一串信息，通常只有数百kb，代表了移动比特币的所有指令（其实就是智能合约）。上面我们提到，签名可以证明一串信息是可信的，所以
持有私钥的人可以对任何交易进行签名，代表自己认可这笔交易，且网络上人可以证明这笔交易经过了某个私钥的认可。

签名后的交易本身不包含任何敏感信息，比如私钥，因此可以完全公开在网络，被网络的全节点验证。

## 比特币网络的参与节点

1. 钱包
2. 矿工
3. 全节点
4. 路由节点
5. 简化支付验证节点，SPV

当一比交易被广播到全节点后，节点会验证该交易是否有效，然后继续广播这条交易信息。直到全网（？）
都验证了该交易的有效性，该交易会被放置在待处理去等待矿工把他加入区块并且出块。

全节点跟矿工一样重要，全节点主要负责：

1. 验证交易记录
2. 维护交易历史记录
3. 确保比特币网路协议

而矿工主要负责：

1. 确认交易
2. 保护比特币网路的安全 PoW
3. 确保新的比特币被公平的发配 PoW

## 共识形成

签名交易会被全节点进行一些列验证，然后放入一个交易池；矿工节点会监听这个交易池，并且选取交易组成
区块，然后进行“挖矿”，即找到一个整数；一旦找到，区块便形成，矿工会广播该区块到所有节点，其他节点
会进行一系列验证，无误后加入区块链。

## 参考

- https://braiins.com/blog/bitcoin-nodes-vs-miners-demystified
